<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mat (lacaml.Lacaml.Common.Types.Mat)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">lacaml</a> &#x00BB; <a href="../../../index.html">Lacaml</a> &#x00BB; <a href="../../index.html">Common</a> &#x00BB; <a href="../index.html">Types</a> &#x00BB; Mat</nav><header class="odoc-preamble"><h1>Module <code><span>Types.Mat</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-patt"><a href="#type-patt" class="anchor"></a><code><span><span class="keyword">type</span> patt</span><span> = </span><span>[ </span></code><ol><li id="type-patt.Full" class="def variant constructor anchored"><a href="#type-patt.Full" class="anchor"></a><code><span>| </span><span>`Full</span></code></li><li id="type-patt.Utr" class="def variant constructor anchored"><a href="#type-patt.Utr" class="anchor"></a><code><span>| </span><span>`Utr</span></code></li><li id="type-patt.Ltr" class="def variant constructor anchored"><a href="#type-patt.Ltr" class="anchor"></a><code><span>| </span><span>`Ltr</span></code></li><li id="type-patt.Upent" class="def variant constructor anchored"><a href="#type-patt.Upent" class="anchor"></a><code><span>| </span><span>`Upent <span class="keyword">of</span> int</span></code></li><li id="type-patt.Lpent" class="def variant constructor anchored"><a href="#type-patt.Lpent" class="anchor"></a><code><span>| </span><span>`Lpent <span class="keyword">of</span> int</span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Pattern of a matrix operation</p><p>Documentation of matrix patterns:</p><p>x = accessed ? = not accessed</p><p><code>`Full</code> for an <code>(m, n) = (3, 4)</code> full matrix operation:</p><p>x x x x x x x x x x x x</p><p><code>`Utr</code> for an <code>(m, n) = (3, 4)</code> upper trapezoidal matrix operation:</p><p>x x x x ? x x x ? ? x x</p><p><code>`Utr</code> for an <code>(m, n) = (4, 3)</code> upper trapezoidal matrix operation (the accessed part is actually only upper triangular due to dimension constraints):</p><p>x x x ? x x ? ? x ? ? ?</p><p><code>`Utr</code> for an <code>(m, n) = (3, 3)</code> upper triangular matrix operation:</p><p>x x x ? x x ? ? x</p><p><code>`Ltr</code> for an <code>(m, n) = (4, 3)</code> lower trapezoidal matrix operation:</p><p>x ? ? x x ? x x x x x x</p><p><code>`Ltr</code> for an <code>(m, n) = (3, 4)</code> lower trapezoidal matrix operation (the accessed part is actually only lower triangular due to dimension constraints):</p><p>x ? ? ? x x ? ? x x x ?</p><p><code>`Ltr</code> for an <code>(m, n) = (3, 3)</code> lower triangular matrix operation:</p><p>x x x ? x x ? ? x</p><p><code>`Upent 2</code> for an <code>(m, n) = (4, 3)</code> upper pentagonal matrix operation. The pattern argument describes the number of topmost full rows:</p><p>x x x x x x ? x x ? ? x</p><p><code>`Lpent 2</code> for an <code>(m, n) = (3, 4)</code> lower pentagonal matrix operation. The pattern argument describes the number of leftmost full columns:</p><p>x x ? ? x x x ? x x x x</p><p>The transpose of a <code>`Upent l</code> operation is an <code>`Lpent l</code> operation if <code>m</code> and <code>n</code> are also flipped.</p><p>Note that the following holds:</p><p>* <code>`Utr = `Upent 1</code> * <code>`Ltr = `Lpent 1</code></p><p>Whether an operation operates on a triangular or trapezoidal part of a matrix is inferred from size parameters <code>m</code> and <code>n</code>, which are passed separately.</p><p>Pentagonal matrix patterns have the advantage of being fractal: it is always possible to cut a pentagonal pattern along an arbitrary row or column and obtain two sub-problems that can also be described by a pentagonal pattern. This makes pentagonal patterns suitable for parallelizing many operations, e.g. on triagonal matrices, by cutting them into smaller problems using pentagonal patterns. Neither triagonal nor trapezoidal patterns are fractal. Rectangular patterns are fractal, but too limited in expressiveness.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-unop"><a href="#type-unop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'mat unop</span></span><span> =
  <span><span class="optlabel">?patt</span>:<a href="#type-patt">patt</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?m</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?n</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?br</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?bc</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?b</span>:<span class="type-var">'mat</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ar</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ac</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'mat</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'mat</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-binop"><a href="#type-binop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'mat binop</span></span><span> =
  <span><span class="optlabel">?patt</span>:<a href="#type-patt">patt</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?m</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?n</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cr</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cc</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?c</span>:<span class="type-var">'mat</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ar</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ac</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'mat</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?br</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?bc</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'mat</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'mat</span></span></code></div></div></div></body></html>
